var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),moduleStats=template.content.querySelector(".module__stats"),moduleButtons=template.content.querySelector(".module__buttons"),moduleGraph=template.content.querySelector(".module__graph"),modulePlayer=template.content.querySelector(".player"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);var events=data.events;function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function parseTemplate(e,t){var o=e.outerHTML;return Object.keys(t).forEach(function(e){null===t[e]&&(t[e]=""),o=o.replace("{{ "+e+" }}",t[e])}),createElementFromHTML(o)}for(var i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);if(module=parseTemplate(moduleTemplate,events[i]),"data"in events[i]){if("stats"===events[i].icon){var graph=moduleGraph.cloneNode(!0);module.querySelector(".module__message").appendChild(graph)}if("thermal"===events[i].icon){var stats=moduleStats.cloneNode(!0);stats=parseTemplate(moduleStats,events[i].data),module.querySelector(".module__message").appendChild(stats)}if("music"===events[i].icon){var player=modulePlayer.cloneNode(!0);player=parseTemplate(modulePlayer,{albumcover:events[i].data.albumcover,artist:events[i].data.artist,name:events[i].data.track.name,length:events[i].data.track.length,volume:events[i].data.volume}),module.querySelector(".module__message").appendChild(player)}if("fridge"===events[i].icon){for(var buttons=moduleButtons.cloneNode(!0),buttonsList=buttons.querySelectorAll(".button"),j=0;j<buttonsList.length;j++)buttonsList[j].textContent=events[i].data.buttons[j];module.querySelector(".module__message").appendChild(buttons)}if("cam"===events[i].icon){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}}grid.appendChild(module)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlU3RhdHMiLCJtb2R1bGVCdXR0b25zIiwibW9kdWxlR3JhcGgiLCJtb2R1bGVQbGF5ZXIiLCJtb2R1bGVQaWN0dXJlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInN0YXR1cyIsImFsZXJ0Iiwic3RhdHVzVGV4dCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImV2ZW50cyIsImNyZWF0ZUVsZW1lbnRGcm9tSFRNTCIsImh0bWxTdHJpbmciLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwidHJpbSIsImZpcnN0Q2hpbGQiLCJwYXJzZVRlbXBsYXRlIiwidmFyaWFibGVzIiwicmVzdWx0Iiwib3V0ZXJIVE1MIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXBsYWNlIiwiaSIsImxlbmd0aCIsIm1vZHVsZSIsImNsb25lTm9kZSIsImljb24iLCJncmFwaCIsImFwcGVuZENoaWxkIiwic3RhdHMiLCJwbGF5ZXIiLCJhbGJ1bWNvdmVyIiwiYXJ0aXN0IiwibmFtZSIsInRyYWNrIiwidm9sdW1lIiwiYnV0dG9ucyIsImJ1dHRvbnNMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImoiLCJ0ZXh0Q29udGVudCIsInBpY3R1cmUiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFdBQWFDLFNBQVNDLGNBQWMsbUJBQ3BDQyxLQUFPRixTQUFTQyxjQUFjLGdCQUVsQ0YsV0FBV0ksaUJBQWlCLFFBQVMsV0FDbkNELEtBQUtFLFVBQVVDLE9BQU8seUJBR3hCLElBV0lDLEtBWEFDLEtBQU9QLFNBQVNDLGNBQWMsU0FF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ZXJ5U2VsZWN0b3IoJy5qcy1tZW51LWJ1dHRvbicpO1xudmFyIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKTtcblxuYnV0dG9uTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItbWVudS0tb3BlbmVkJyk7XG59KTtcblxudmFyIGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpO1xuXG52YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kdWxlVGVtcGxhdGUnKTtcblxudmFyIG1vZHVsZVRlbXBsYXRlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlJyk7XG52YXIgbW9kdWxlU3RhdHMgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3N0YXRzJyk7XG52YXIgbW9kdWxlQnV0dG9ucyA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fYnV0dG9ucycpO1xudmFyIG1vZHVsZUdyYXBoID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19ncmFwaCcpO1xudmFyIG1vZHVsZVBsYXllciA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYXllcicpO1xudmFyIG1vZHVsZVBpY3R1cmUgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3BpY3R1cmUnKTtcblxudmFyIGRhdGE7XG5cbnZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbnhoci5vcGVuKCdHRVQnLCAnZXZlbnRzLmpzb24nLCBmYWxzZSk7XG54aHIuc2VuZCgpO1xuaWYgKHhoci5zdGF0dXMgIT0gMjAwKSB7XG4gIGFsZXJ0KCB4aHIuc3RhdHVzICsgJzogJyArIHhoci5zdGF0dXNUZXh0ICk7XG59IGVsc2Uge1xuICBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbn1cblxudmFyIGV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50RnJvbUhUTUwoaHRtbFN0cmluZykge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcbiAgcmV0dXJuIGRpdi5maXJzdENoaWxkO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRlbXBsYXRlKHRlbXBsYXRlLCB2YXJpYWJsZXMpIHtcbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLm91dGVySFRNTDtcbiAgT2JqZWN0LmtleXModmFyaWFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodmFyaWFibGVzW2tleV0gPT09IG51bGwpIHtcbiAgICAgIHZhcmlhYmxlc1trZXldID0gJyc7XG4gICAgfVxuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKCd7eyAnICsga2V5ICsgJyB9fScsIHZhcmlhYmxlc1trZXldKTtcbiAgfSk7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50RnJvbUhUTUwocmVzdWx0KTtcbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblxuICB2YXIgbW9kdWxlID0gbW9kdWxlVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICBtb2R1bGUgPSBwYXJzZVRlbXBsYXRlKG1vZHVsZVRlbXBsYXRlLCBldmVudHNbaV0pO1xuXG4gIGlmICgnZGF0YScgaW4gZXZlbnRzW2ldKSB7XG5cbiAgICBpZiAoZXZlbnRzW2ldLmljb24gPT09ICdzdGF0cycpIHtcbiAgICAgIHZhciBncmFwaCA9IG1vZHVsZUdyYXBoLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoZ3JhcGgpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ3RoZXJtYWwnKSB7XG4gICAgICB2YXIgc3RhdHMgPSBtb2R1bGVTdGF0cy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBzdGF0cyA9IHBhcnNlVGVtcGxhdGUobW9kdWxlU3RhdHMsIGV2ZW50c1tpXS5kYXRhKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoc3RhdHMpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ211c2ljJykge1xuICAgICAgdmFyIHBsYXllciA9IG1vZHVsZVBsYXllci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBwbGF5ZXIgPSBwYXJzZVRlbXBsYXRlKG1vZHVsZVBsYXllciwge1xuICAgICAgICBhbGJ1bWNvdmVyOiBldmVudHNbaV0uZGF0YS5hbGJ1bWNvdmVyLFxuICAgICAgICBhcnRpc3Q6IGV2ZW50c1tpXS5kYXRhLmFydGlzdCxcbiAgICAgICAgbmFtZTogZXZlbnRzW2ldLmRhdGEudHJhY2submFtZSxcbiAgICAgICAgbGVuZ3RoOiBldmVudHNbaV0uZGF0YS50cmFjay5sZW5ndGgsXG4gICAgICAgIHZvbHVtZTogZXZlbnRzW2ldLmRhdGEudm9sdW1lXG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQocGxheWVyKTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnRzW2ldLmljb24gPT09ICdmcmlkZ2UnKSB7XG4gICAgICB2YXIgYnV0dG9ucyA9IG1vZHVsZUJ1dHRvbnMuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgdmFyIGJ1dHRvbnNMaXN0ID0gYnV0dG9ucy5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uJyk7XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYnV0dG9uc0xpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgYnV0dG9uc0xpc3Rbal0udGV4dENvbnRlbnQgPSBldmVudHNbaV0uZGF0YS5idXR0b25zW2pdO1xuICAgICAgfVxuXG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ2NhbScpIHtcbiAgICAgIHZhciBwaWN0dXJlID0gbW9kdWxlUGljdHVyZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBpY3R1cmUpO1xuICAgIH1cblxuICB9XG5cbiAgZ3JpZC5hcHBlbmRDaGlsZChtb2R1bGUpO1xufVxuXG4iXX0=
