var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),moduleStats=template.content.querySelector(".module__stats"),moduleButtons=template.content.querySelector(".module__buttons"),moduleGraph=template.content.querySelector(".module__graph"),modulePlayer=template.content.querySelector(".player"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);for(var events=data.events,i=0;i<events.length-1;i++){var module=moduleTemplate.cloneNode(!0);switch("critical"===events[i].type&&module.classList.add("module--alert"),module.querySelector(".module__title").innerHTML+=events[i].title,module.querySelector(".module__type").textContent=events[i].source,module.querySelector(".module__date").textContent=events[i].time,null!==events[i].description&&(module.querySelector(".module__message").textContent=events[i].description),module.querySelector(".module__icon svg use").setAttributeNS("http://www.w3.org/1999/xlink","href","#"+events[i].icon),events[i].size){case"m":module.classList.add("grid__cell--m");break;case"l":module.classList.add("grid__cell--l");break;default:module.classList.add("grid__cell--s")}if(void 0!==events[i].data){if(void 0!==events[i].data.image){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}if(void 0!==events[i].data.buttons){var buttons=moduleButtons.cloneNode(!0);module.querySelector(".module__message").appendChild(buttons)}if(void 0!==events[i].data.albumcover){var player=modulePlayer.cloneNode(!0);module.querySelector(".module__message").appendChild(player)}if(void 0!==events[i].data.temperature){var stats=moduleStats.cloneNode(!0);module.querySelector(".module__message").appendChild(stats)}if(void 0!==events[i].data.type){var graph=moduleGraph.cloneNode(!0);module.querySelector(".module__message").appendChild(graph)}}grid.appendChild(module)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlU3RhdHMiLCJtb2R1bGVCdXR0b25zIiwibW9kdWxlR3JhcGgiLCJtb2R1bGVQbGF5ZXIiLCJtb2R1bGVQaWN0dXJlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInN0YXR1cyIsImFsZXJ0Iiwic3RhdHVzVGV4dCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImV2ZW50cyIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJ0eXBlIiwiYWRkIiwiaW5uZXJIVE1MIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsInNvdXJjZSIsInRpbWUiLCJkZXNjcmlwdGlvbiIsInNldEF0dHJpYnV0ZU5TIiwiaWNvbiIsInNpemUiLCJpbWFnZSIsInBpY3R1cmUiLCJhcHBlbmRDaGlsZCIsImJ1dHRvbnMiLCJhbGJ1bWNvdmVyIiwicGxheWVyIiwidGVtcGVyYXR1cmUiLCJzdGF0cyIsImdyYXBoIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxXQUFhQyxTQUFTQyxjQUFjLG1CQUNwQ0MsS0FBT0YsU0FBU0MsY0FBYyxnQkFFbENGLFdBQVdJLGlCQUFpQixRQUFTLFdBQ25DRCxLQUFLRSxVQUFVQyxPQUFPLHlCQUd4QixJQVdJQyxLQVhBQyxLQUFPUCxTQUFTQyxjQUFjLFNBRTlCTyxTQUFXUixTQUFTQyxjQUFjLG1CQUVsQ1EsZUFBaUJELFNBQVNFLFFBQVFULGNBQWMsV0FDaERVLFlBQWNILFNBQVNFLFFBQVFULGNBQWMsa0JBQzdDVyxjQUFnQkosU0FBU0UsUUFBUVQsY0FBYyxvQkFDL0NZLFlBQWNMLFNBQVNFLFFBQVFULGNBQWMsa0JBQzdDYSxhQUFlTixTQUFTRSxRQUFRVCxjQUFjLFdBQzlDYyxjQUFnQlAsU0FBU0UsUUFBUVQsY0FBYyxvQkFJL0NlLElBQU0sSUFBSUMsZUFDZEQsSUFBSUUsS0FBSyxNQUFPLGVBQWUsR0FDL0JGLElBQUlHLE9BQ2MsS0FBZEgsSUFBSUksT0FDTkMsTUFBT0wsSUFBSUksT0FBUyxLQUFPSixJQUFJTSxZQUUvQmhCLEtBQU9pQixLQUFLQyxNQUFNUixJQUFJUyxjQUt4QixJQUZBLElBQUlDLE9BQVNwQixLQUFLb0IsT0FFVEMsRUFBSSxFQUFHQSxFQUFJRCxPQUFPRSxPQUFTLEVBQUdELElBQUssQ0FFMUMsSUFBSUUsT0FBU3BCLGVBQWVxQixXQUFVLEdBeUJ0QyxPQXRCd0IsYUFBcEJKLE9BQU9DLEdBQUdJLE1BQ1pGLE9BQU96QixVQUFVNEIsSUFBSSxpQkFJdkJILE9BQU81QixjQUFjLGtCQUFrQmdDLFdBQWFQLE9BQU9DLEdBQUdPLE1BRzlETCxPQUFPNUIsY0FBYyxpQkFBaUJrQyxZQUFjVCxPQUFPQyxHQUFHUyxPQUc5RFAsT0FBTzVCLGNBQWMsaUJBQWlCa0MsWUFBY1QsT0FBT0MsR0FBR1UsS0FHaEMsT0FBMUJYLE9BQU9DLEdBQUdXLGNBQ1pULE9BQU81QixjQUFjLG9CQUFvQmtDLFlBQWNULE9BQU9DLEdBQUdXLGFBSW5FVCxPQUFPNUIsY0FBYyx5QkFBeUJzQyxlQUFlLCtCQUErQixPQUFPLElBQU1iLE9BQU9DLEdBQUdhLE1BRzVHZCxPQUFPQyxHQUFHYyxNQUNmLElBQUssSUFDSFosT0FBT3pCLFVBQVU0QixJQUFJLGlCQUNyQixNQUNGLElBQUssSUFDSEgsT0FBT3pCLFVBQVU0QixJQUFJLGlCQUNyQixNQUNGLFFBQ0VILE9BQU96QixVQUFVNEIsSUFBSSxpQkFLekIsUUFBOEIsSUFBbkJOLE9BQU9DLEdBQUdyQixLQUFzQixDQUd6QyxRQUFvQyxJQUF6Qm9CLE9BQU9DLEdBQUdyQixLQUFLb0MsTUFBdUIsQ0FDL0MsSUFBSUMsUUFBVTVCLGNBQWNlLFdBQVUsR0FDdENELE9BQU81QixjQUFjLG9CQUFvQjJDLFlBQVlELFNBSXZELFFBQXNDLElBQTNCakIsT0FBT0MsR0FBR3JCLEtBQUt1QyxRQUF5QixDQUNqRCxJQUFJQSxRQUFVakMsY0FBY2tCLFdBQVUsR0FDdENELE9BQU81QixjQUFjLG9CQUFvQjJDLFlBQVlDLFNBSXZELFFBQXlDLElBQTlCbkIsT0FBT0MsR0FBR3JCLEtBQUt3QyxXQUE0QixDQUNwRCxJQUFJQyxPQUFTakMsYUFBYWdCLFdBQVUsR0FDcENELE9BQU81QixjQUFjLG9CQUFvQjJDLFlBQVlHLFFBSXZELFFBQTBDLElBQS9CckIsT0FBT0MsR0FBR3JCLEtBQUswQyxZQUE2QixDQUNyRCxJQUFJQyxNQUFRdEMsWUFBWW1CLFdBQVUsR0FDbENELE9BQU81QixjQUFjLG9CQUFvQjJDLFlBQVlLLE9BSXZELFFBQW1DLElBQXhCdkIsT0FBT0MsR0FBR3JCLEtBQUt5QixLQUFzQixDQUM5QyxJQUFJbUIsTUFBUXJDLFlBQVlpQixXQUFVLEdBQ2xDRCxPQUFPNUIsY0FBYyxvQkFBb0IyQyxZQUFZTSxRQUt6RDNDLEtBQUtxQyxZQUFZZiIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJ1dHRvbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbWVudS1idXR0b24nKTtcbnZhciBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51Jyk7XG5cbmJ1dHRvbk1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLW1lbnUtLW9wZW5lZCcpO1xufSk7XG5cbnZhciBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKTtcblxudmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZHVsZVRlbXBsYXRlJyk7XG5cbnZhciBtb2R1bGVUZW1wbGF0ZSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZScpO1xudmFyIG1vZHVsZVN0YXRzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19zdGF0cycpO1xudmFyIG1vZHVsZUJ1dHRvbnMgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2J1dHRvbnMnKTtcbnZhciBtb2R1bGVHcmFwaCA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fZ3JhcGgnKTtcbnZhciBtb2R1bGVQbGF5ZXIgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXInKTtcbnZhciBtb2R1bGVQaWN0dXJlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG5cbnZhciBkYXRhO1xuXG52YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG54aHIub3BlbignR0VUJywgJ2V2ZW50cy5qc29uJywgZmFsc2UpO1xueGhyLnNlbmQoKTtcbmlmICh4aHIuc3RhdHVzICE9IDIwMCkge1xuICBhbGVydCggeGhyLnN0YXR1cyArICc6ICcgKyB4aHIuc3RhdHVzVGV4dCApO1xufSBlbHNlIHtcbiAgZGF0YSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG59XG5cbnZhciBldmVudHMgPSBkYXRhLmV2ZW50cztcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cbiAgdmFyIG1vZHVsZSA9IG1vZHVsZVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcblxuICAvLyB0eXBlXG4gIGlmIChldmVudHNbaV0udHlwZSA9PT0gICdjcml0aWNhbCcpIHtcbiAgICBtb2R1bGUuY2xhc3NMaXN0LmFkZCgnbW9kdWxlLS1hbGVydCcpO1xuICB9XG5cbiAgLy8gdGl0bGVcbiAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3RpdGxlJykuaW5uZXJIVE1MICs9IGV2ZW50c1tpXS50aXRsZTtcblxuICAvLyBzb3VyY2VcbiAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3R5cGUnKS50ZXh0Q29udGVudCA9IGV2ZW50c1tpXS5zb3VyY2U7XG5cbiAgLy8gdGltZVxuICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fZGF0ZScpLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLnRpbWU7XG5cbiAgLy8gZGVzY3JpcHRpb25cbiAgaWYgKGV2ZW50c1tpXS5kZXNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykudGV4dENvbnRlbnQgPSBldmVudHNbaV0uZGVzY3JpcHRpb247XG4gIH1cblxuICAvLyBpY29uXG4gIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19pY29uIHN2ZyB1c2UnKS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsJ2hyZWYnLCcjJyArIGV2ZW50c1tpXS5pY29uKTtcblxuICAvLyBzaXplXG4gIHN3aXRjaChldmVudHNbaV0uc2l6ZSkge1xuICAgIGNhc2UgJ20nOlxuICAgICAgbW9kdWxlLmNsYXNzTGlzdC5hZGQoJ2dyaWRfX2NlbGwtLW0nKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2wnOlxuICAgICAgbW9kdWxlLmNsYXNzTGlzdC5hZGQoJ2dyaWRfX2NlbGwtLWwnKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBtb2R1bGUuY2xhc3NMaXN0LmFkZCgnZ3JpZF9fY2VsbC0tcycpO1xuICAgICAgYnJlYWtcbiAgfVxuXG4gIC8vIGRhdGFcbiAgaWYgKHR5cGVvZiBldmVudHNbaV0uZGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgIC8vIGRhdGEuaW1hZ2VcbiAgICBpZiAodHlwZW9mIGV2ZW50c1tpXS5kYXRhLmltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHBpY3R1cmUgPSBtb2R1bGVQaWN0dXJlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQocGljdHVyZSk7XG4gICAgfVxuXG4gICAgLy8gZGF0YS5idXR0b25zXG4gICAgaWYgKHR5cGVvZiBldmVudHNbaV0uZGF0YS5idXR0b25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGJ1dHRvbnMgPSBtb2R1bGVCdXR0b25zLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XG4gICAgfVxuXG4gICAgLy8gZGF0YS5hbGJ1bWNvdmVyXG4gICAgaWYgKHR5cGVvZiBldmVudHNbaV0uZGF0YS5hbGJ1bWNvdmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHBsYXllciA9IG1vZHVsZVBsYXllci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBsYXllcik7XG4gICAgfVxuXG4gICAgLy8gZGF0YS50ZW1wZXJhdHVyZVxuICAgIGlmICh0eXBlb2YgZXZlbnRzW2ldLmRhdGEudGVtcGVyYXR1cmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3RhdHMgPSBtb2R1bGVTdGF0cy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHN0YXRzKTtcbiAgICB9XG5cbiAgICAvLyBkYXRhLnR5cGVcbiAgICBpZiAodHlwZW9mIGV2ZW50c1tpXS5kYXRhLnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgZ3JhcGggPSBtb2R1bGVHcmFwaC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKGdyYXBoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGdyaWQuYXBwZW5kQ2hpbGQobW9kdWxlKTtcbn1cblxuIl19
