var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),moduleStats=template.content.querySelector(".module__stats"),moduleButtons=template.content.querySelector(".module__buttons"),moduleGraph=template.content.querySelector(".module__graph"),modulePlayer=template.content.querySelector(".player"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);for(var events=data.events,i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);switch("critical"===events[i].type&&module.classList.add("module--alert"),module.querySelector(".module__title").innerHTML+=events[i].title,module.querySelector(".module__type").textContent=events[i].source,module.querySelector(".module__date").textContent=events[i].time,null!==events[i].description&&(module.querySelector(".module__message").textContent=events[i].description),module.querySelector(".module__icon svg use").setAttributeNS("http://www.w3.org/1999/xlink","href","#"+events[i].icon),events[i].size){case"m":module.classList.add("grid__cell--m");break;case"l":module.classList.add("grid__cell--l");break;default:module.classList.add("grid__cell--s")}if("data"in events[i]){if("image"in events[i].data){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}if("buttons"in events[i].data){for(var buttons=moduleButtons.cloneNode(!0),buttonsList=buttons.querySelectorAll(".button"),j=0;j<buttonsList.length;j++)buttonsList[j].textContent=events[i].data.buttons[j];module.querySelector(".module__message").appendChild(buttons)}if("albumcover"in events[i].data){var player=modulePlayer.cloneNode(!0);player.querySelector(".player__image").setAttribute("src",events[i].data.albumcover),player.querySelector(".player__name").textContent=events[i].data.artist+" â€“ "+events[i].data.track.name,player.querySelector(".player__song .player__num").textContent=events[i].data.track.length,player.querySelector(".player__controls .player__num").textContent=events[i].data.volume+"%",module.querySelector(".module__message").appendChild(player)}if("temperature"in events[i].data){var stats=moduleStats.cloneNode(!0);stats.querySelector(".module__degree strong").textContent=events[i].data.temperature+" C",stats.querySelector(".module__humidity strong").textContent=events[i].data.humidity+"%",module.querySelector(".module__message").appendChild(stats)}if("type"in events[i].data){var graph=moduleGraph.cloneNode(!0);module.querySelector(".module__message").appendChild(graph)}}grid.appendChild(module)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlU3RhdHMiLCJtb2R1bGVCdXR0b25zIiwibW9kdWxlR3JhcGgiLCJtb2R1bGVQbGF5ZXIiLCJtb2R1bGVQaWN0dXJlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInN0YXR1cyIsImFsZXJ0Iiwic3RhdHVzVGV4dCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImV2ZW50cyIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJ0eXBlIiwiYWRkIiwiaW5uZXJIVE1MIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsInNvdXJjZSIsInRpbWUiLCJkZXNjcmlwdGlvbiIsInNldEF0dHJpYnV0ZU5TIiwiaWNvbiIsInNpemUiLCJwaWN0dXJlIiwiYXBwZW5kQ2hpbGQiLCJidXR0b25zIiwiYnV0dG9uc0xpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaiIsInBsYXllciIsInNldEF0dHJpYnV0ZSIsImFsYnVtY292ZXIiLCJhcnRpc3QiLCJ0cmFjayIsIm5hbWUiLCJ2b2x1bWUiLCJzdGF0cyIsInRlbXBlcmF0dXJlIiwiaHVtaWRpdHkiLCJncmFwaCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsV0FBYUMsU0FBU0MsY0FBYyxtQkFDcENDLEtBQU9GLFNBQVNDLGNBQWMsZ0JBRWxDRixXQUFXSSxpQkFBaUIsUUFBUyxXQUNuQ0QsS0FBS0UsVUFBVUMsT0FBTyx5QkFHeEIsSUFXSUMsS0FYQUMsS0FBT1AsU0FBU0MsY0FBYyxTQUU5Qk8sU0FBV1IsU0FBU0MsY0FBYyxtQkFFbENRLGVBQWlCRCxTQUFTRSxRQUFRVCxjQUFjLFdB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LG9CQUFvQjBDLFlBQVlZLE9BSXZELEdBQUksU0FBVTdCLE9BQU9DLEdBQUdyQixLQUFNLENBQzVCLElBQUlvRCxNQUFRN0MsWUFBWWlCLFdBQVUsR0FFbENELE9BQU81QixjQUFjLG9CQUFvQjBDLFlBQVllLFFBS3pEbkQsS0FBS29DLFlBQVlkIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYnV0dG9uTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tZW51LWJ1dHRvbicpO1xudmFyIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKTtcblxuYnV0dG9uTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItbWVudS0tb3BlbmVkJyk7XG59KTtcblxudmFyIGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpO1xuXG52YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kdWxlVGVtcGxhdGUnKTtcblxudmFyIG1vZHVsZVRlbXBsYXRlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlJyk7XG52YXIgbW9kdWxlU3RhdHMgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3N0YXRzJyk7XG52YXIgbW9kdWxlQnV0dG9ucyA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fYnV0dG9ucycpO1xudmFyIG1vZHVsZUdyYXBoID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19ncmFwaCcpO1xudmFyIG1vZHVsZVBsYXllciA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYXllcicpO1xudmFyIG1vZHVsZVBpY3R1cmUgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3BpY3R1cmUnKTtcblxudmFyIGRhdGE7XG5cbnZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbnhoci5vcGVuKCdHRVQnLCAnZXZlbnRzLmpzb24nLCBmYWxzZSk7XG54aHIuc2VuZCgpO1xuaWYgKHhoci5zdGF0dXMgIT0gMjAwKSB7XG4gIGFsZXJ0KCB4aHIuc3RhdHVzICsgJzogJyArIHhoci5zdGF0dXNUZXh0ICk7XG59IGVsc2Uge1xuICBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbn1cblxudmFyIGV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXG4gIHZhciBtb2R1bGUgPSBtb2R1bGVUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgLy8gdHlwZVxuICBpZiAoZXZlbnRzW2ldLnR5cGUgPT09ICAnY3JpdGljYWwnKSB7XG4gICAgbW9kdWxlLmNsYXNzTGlzdC5hZGQoJ21vZHVsZS0tYWxlcnQnKTtcbiAgfVxuXG4gIC8vIHRpdGxlXG4gIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX190aXRsZScpLmlubmVySFRNTCArPSBldmVudHNbaV0udGl0bGU7XG5cbiAgLy8gc291cmNlXG4gIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX190eXBlJykudGV4dENvbnRlbnQgPSBldmVudHNbaV0uc291cmNlO1xuXG4gIC8vIHRpbWVcbiAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2RhdGUnKS50ZXh0Q29udGVudCA9IGV2ZW50c1tpXS50aW1lO1xuXG4gIC8vIGRlc2NyaXB0aW9uXG4gIGlmIChldmVudHNbaV0uZGVzY3JpcHRpb24gIT09IG51bGwpIHtcbiAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLmRlc2NyaXB0aW9uO1xuICB9XG5cbiAgLy8gaWNvblxuICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9faWNvbiBzdmcgdXNlJykuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCdocmVmJywnIycgKyBldmVudHNbaV0uaWNvbik7XG5cbiAgLy8gc2l6ZVxuICBzd2l0Y2goZXZlbnRzW2ldLnNpemUpIHtcbiAgICBjYXNlICdtJzpcbiAgICAgIG1vZHVsZS5jbGFzc0xpc3QuYWRkKCdncmlkX19jZWxsLS1tJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsJzpcbiAgICAgIG1vZHVsZS5jbGFzc0xpc3QuYWRkKCdncmlkX19jZWxsLS1sJyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbW9kdWxlLmNsYXNzTGlzdC5hZGQoJ2dyaWRfX2NlbGwtLXMnKTtcbiAgICAgIGJyZWFrXG4gIH1cblxuICAvLyBkYXRhXG4gIGlmICgnZGF0YScgaW4gZXZlbnRzW2ldKSB7XG5cbiAgICAvLyBkYXRhLmltYWdlXG4gICAgaWYgKCdpbWFnZScgaW4gZXZlbnRzW2ldLmRhdGEpIHtcbiAgICAgIHZhciBwaWN0dXJlID0gbW9kdWxlUGljdHVyZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBpY3R1cmUpO1xuICAgIH1cblxuICAgIC8vIGRhdGEuYnV0dG9uc1xuICAgIGlmICgnYnV0dG9ucycgaW4gZXZlbnRzW2ldLmRhdGEpIHtcbiAgICAgIHZhciBidXR0b25zID0gbW9kdWxlQnV0dG9ucy5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgIHZhciBidXR0b25zTGlzdCA9IGJ1dHRvbnMucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbicpO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ1dHRvbnNMaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGJ1dHRvbnNMaXN0W2pdLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLmRhdGEuYnV0dG9uc1tqXTtcbiAgICAgIH1cblxuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChidXR0b25zKTtcbiAgICB9XG5cbiAgICAvLyBkYXRhLmFsYnVtY292ZXJcbiAgICBpZiAoJ2FsYnVtY292ZXInIGluIGV2ZW50c1tpXS5kYXRhKSB7XG4gICAgICB2YXIgcGxheWVyID0gbW9kdWxlUGxheWVyLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXJfX2ltYWdlJykuc2V0QXR0cmlidXRlKCdzcmMnLCBldmVudHNbaV0uZGF0YS5hbGJ1bWNvdmVyKTtcbiAgICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKCcucGxheWVyX19uYW1lJykudGV4dENvbnRlbnQgPSBldmVudHNbaV0uZGF0YS5hcnRpc3QgKyAnIOKAkyAnICsgZXZlbnRzW2ldLmRhdGEudHJhY2submFtZTtcbiAgICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKCcucGxheWVyX19zb25nIC5wbGF5ZXJfX251bScpLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLmRhdGEudHJhY2subGVuZ3RoO1xuICAgICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXJfX2NvbnRyb2xzIC5wbGF5ZXJfX251bScpLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLmRhdGEudm9sdW1lICsgJyUnO1xuXG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBsYXllcik7XG4gICAgfVxuXG4gICAgLy8gZGF0YS50ZW1wZXJhdHVyZVxuICAgIGlmICgndGVtcGVyYXR1cmUnIGluIGV2ZW50c1tpXS5kYXRhKSB7XG4gICAgICB2YXIgc3RhdHMgPSBtb2R1bGVTdGF0cy5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgIHN0YXRzLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2RlZ3JlZSBzdHJvbmcnKS50ZXh0Q29udGVudCA9IGV2ZW50c1tpXS5kYXRhLnRlbXBlcmF0dXJlICsgJyBDJztcbiAgICAgIHN0YXRzLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2h1bWlkaXR5IHN0cm9uZycpLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLmRhdGEuaHVtaWRpdHkgKyAnJSc7XG5cbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoc3RhdHMpO1xuICAgIH1cblxuICAgIC8vIGRhdGEudHlwZVxuICAgIGlmICgndHlwZScgaW4gZXZlbnRzW2ldLmRhdGEpIHtcbiAgICAgIHZhciBncmFwaCA9IG1vZHVsZUdyYXBoLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChncmFwaCk7XG4gICAgfVxuXG4gIH1cblxuICBncmlkLmFwcGVuZENoaWxkKG1vZHVsZSk7XG59XG5cbiJdfQ==
