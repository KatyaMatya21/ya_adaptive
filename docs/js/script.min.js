var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),moduleStats=template.content.querySelector(".module__stats"),moduleButtons=template.content.querySelector(".module__buttons"),moduleGraph=template.content.querySelector(".module__graph"),modulePlayer=template.content.querySelector(".player"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);var events=data.events;function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function parseTemplate(e,t){var o=e.outerHTML;return Object.keys(t).forEach(function(e){null===t[e]&&(t[e]=""),o=o.replace("{{ "+e+" }}",t[e])}),createElementFromHTML(o)}for(var i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);if(module=parseTemplate(moduleTemplate,events[i]),""===events[i].description&&module.querySelector(".module__message").classList.add("module__message--disabled"),"data"in events[i]){if("stats"===events[i].icon){var graph=moduleGraph.cloneNode(!0);module.querySelector(".module__message").appendChild(graph)}if("thermal"===events[i].icon){var stats=moduleStats.cloneNode(!0);stats=parseTemplate(moduleStats,events[i].data),module.querySelector(".module__message").appendChild(stats)}if("music"===events[i].icon){var player=modulePlayer.cloneNode(!0);player=parseTemplate(modulePlayer,{albumcover:events[i].data.albumcover,artist:events[i].data.artist,name:events[i].data.track.name,length:events[i].data.track.length,volume:events[i].data.volume}),module.querySelector(".module__message").appendChild(player)}if("fridge"===events[i].icon){for(var buttons=moduleButtons.cloneNode(!0),buttonsList=buttons.querySelectorAll(".button"),j=0;j<buttonsList.length;j++)buttonsList[j].textContent=events[i].data.buttons[j];module.querySelector(".module__message").appendChild(buttons)}if("cam"===events[i].icon){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}}grid.appendChild(module)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlU3RhdHMiLCJtb2R1bGVCdXR0b25zIiwibW9kdWxlR3JhcGgiLCJtb2R1bGVQbGF5ZXIiLCJtb2R1bGVQaWN0dXJlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInN0YXR1cyIsImFsZXJ0Iiwic3RhdHVzVGV4dCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImV2ZW50cyIsImNyZWF0ZUVsZW1lbnRGcm9tSFRNTCIsImh0bWxTdHJpbmciLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwidHJpbSIsImZpcnN0Q2hpbGQiLCJwYXJzZVRlbXBsYXRlIiwidmFyaWFibGVzIiwicmVzdWx0Iiwib3V0ZXJIVE1MIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJyZXBsYWNlIiwiaSIsImxlbmd0aCIsIm1vZHVsZSIsImNsb25lTm9kZSIsImRlc2NyaXB0aW9uIiwiYWRkIiwiaWNvbiIsImdyYXBoIiwiYXBwZW5kQ2hpbGQiLCJzdGF0cyIsInBsYXllciIsImFsYnVtY292ZXIiLCJhcnRpc3QiLCJuYW1lIiwidHJhY2siLCJ2b2x1bWUiLCJidXR0b25zIiwiYnV0dG9uc0xpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaiIsInRleHRDb250ZW50IiwicGljdHVyZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsV0FBYUMsU0FBU0MsY0FBYyxtQkFDcENDLEtBQU9GLFNBQVNDLGNBQWMsZ0JBRWxDRixXQUFXSSxpQkFBaUIsUUFBUyxXQUNuQ0QsS0FBS0UsVUFBVUMsT0FBTyx5QkFHeEIsSUFXSUMsS0FYQUMs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RHpELEtBQUs0QyxZQUFZTiIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJ1dHRvbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbWVudS1idXR0b24nKTtcbnZhciBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51Jyk7XG5cbmJ1dHRvbk1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLW1lbnUtLW9wZW5lZCcpO1xufSk7XG5cbnZhciBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKTtcblxudmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZHVsZVRlbXBsYXRlJyk7XG5cbnZhciBtb2R1bGVUZW1wbGF0ZSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZScpO1xudmFyIG1vZHVsZVN0YXRzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19zdGF0cycpO1xudmFyIG1vZHVsZUJ1dHRvbnMgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2J1dHRvbnMnKTtcbnZhciBtb2R1bGVHcmFwaCA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fZ3JhcGgnKTtcbnZhciBtb2R1bGVQbGF5ZXIgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXInKTtcbnZhciBtb2R1bGVQaWN0dXJlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG5cbnZhciBkYXRhO1xuXG52YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG54aHIub3BlbignR0VUJywgJ2V2ZW50cy5qc29uJywgZmFsc2UpO1xueGhyLnNlbmQoKTtcbmlmICh4aHIuc3RhdHVzICE9IDIwMCkge1xuICBhbGVydCggeGhyLnN0YXR1cyArICc6ICcgKyB4aHIuc3RhdHVzVGV4dCApO1xufSBlbHNlIHtcbiAgZGF0YSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG59XG5cbnZhciBldmVudHMgPSBkYXRhLmV2ZW50cztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdmFyaWFibGVzKSB7XG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5vdXRlckhUTUw7XG4gIE9iamVjdC5rZXlzKHZhcmlhYmxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHZhcmlhYmxlc1trZXldID09PSBudWxsKSB7XG4gICAgICB2YXJpYWJsZXNba2V5XSA9ICcnO1xuICAgIH1cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgne3sgJyArIGtleSArICcgfX0nLCB2YXJpYWJsZXNba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudEZyb21IVE1MKHJlc3VsdCk7XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgdmFyIG1vZHVsZSA9IG1vZHVsZVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgbW9kdWxlID0gcGFyc2VUZW1wbGF0ZShtb2R1bGVUZW1wbGF0ZSwgZXZlbnRzW2ldKTtcblxuICBpZiAoZXZlbnRzW2ldLmRlc2NyaXB0aW9uID09PSAnJykge1xuICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuY2xhc3NMaXN0LmFkZCgnbW9kdWxlX19tZXNzYWdlLS1kaXNhYmxlZCcpO1xuICB9XG5cbiAgaWYgKCdkYXRhJyBpbiBldmVudHNbaV0pIHtcblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ3N0YXRzJykge1xuICAgICAgdmFyIGdyYXBoID0gbW9kdWxlR3JhcGguY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChncmFwaCk7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50c1tpXS5pY29uID09PSAndGhlcm1hbCcpIHtcbiAgICAgIHZhciBzdGF0cyA9IG1vZHVsZVN0YXRzLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHN0YXRzID0gcGFyc2VUZW1wbGF0ZShtb2R1bGVTdGF0cywgZXZlbnRzW2ldLmRhdGEpO1xuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChzdGF0cyk7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50c1tpXS5pY29uID09PSAnbXVzaWMnKSB7XG4gICAgICB2YXIgcGxheWVyID0gbW9kdWxlUGxheWVyLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHBsYXllciA9IHBhcnNlVGVtcGxhdGUobW9kdWxlUGxheWVyLCB7XG4gICAgICAgIGFsYnVtY292ZXI6IGV2ZW50c1tpXS5kYXRhLmFsYnVtY292ZXIsXG4gICAgICAgIGFydGlzdDogZXZlbnRzW2ldLmRhdGEuYXJ0aXN0LFxuICAgICAgICBuYW1lOiBldmVudHNbaV0uZGF0YS50cmFjay5uYW1lLFxuICAgICAgICBsZW5ndGg6IGV2ZW50c1tpXS5kYXRhLnRyYWNrLmxlbmd0aCxcbiAgICAgICAgdm9sdW1lOiBldmVudHNbaV0uZGF0YS52b2x1bWVcbiAgICAgIH0pO1xuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChwbGF5ZXIpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ2ZyaWRnZScpIHtcbiAgICAgIHZhciBidXR0b25zID0gbW9kdWxlQnV0dG9ucy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB2YXIgYnV0dG9uc0xpc3QgPSBidXR0b25zLnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24nKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBidXR0b25zTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICBidXR0b25zTGlzdFtqXS50ZXh0Q29udGVudCA9IGV2ZW50c1tpXS5kYXRhLmJ1dHRvbnNbal07XG4gICAgICB9XG5cbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50c1tpXS5pY29uID09PSAnY2FtJykge1xuICAgICAgdmFyIHBpY3R1cmUgPSBtb2R1bGVQaWN0dXJlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQocGljdHVyZSk7XG4gICAgfVxuXG4gIH1cblxuICBncmlkLmFwcGVuZENoaWxkKG1vZHVsZSk7XG59XG5cbiJdfQ==
