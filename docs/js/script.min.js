var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),moduleStats=template.content.querySelector(".module__stats"),moduleButtons=template.content.querySelector(".module__buttons"),moduleGraph=template.content.querySelector(".module__graph"),modulePlayer=template.content.querySelector(".player"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);for(var events=data.events,i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);switch("critical"===events[i].type&&module.classList.add("module--alert"),module.querySelector(".module__title").innerHTML+=events[i].title,module.querySelector(".module__type").textContent=events[i].source,module.querySelector(".module__date").textContent=events[i].time,null!==events[i].description&&(module.querySelector(".module__message").textContent=events[i].description),module.querySelector(".module__icon svg use").setAttributeNS("http://www.w3.org/1999/xlink","href","#"+events[i].icon),events[i].size){case"m":module.classList.add("grid__cell--m");break;case"l":module.classList.add("grid__cell--l");break;default:module.classList.add("grid__cell--s")}if(void 0!==events[i].data){if(void 0!==events[i].data.image){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}if(void 0!==events[i].data.buttons){var buttons=moduleButtons.cloneNode(!0);module.querySelector(".module__message").appendChild(buttons)}if(void 0!==events[i].data.albumcover){var player=modulePlayer.cloneNode(!0);module.querySelector(".module__message").appendChild(player)}if(void 0!==events[i].data.temperature){var stats=moduleStats.cloneNode(!0);module.querySelector(".module__message").appendChild(stats)}if(void 0!==events[i].data.type){var graph=moduleGraph.cloneNode(!0);module.querySelector(".module__message").appendChild(graph)}}grid.appendChild(module)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlU3RhdHMiLCJtb2R1bGVCdXR0b25zIiwibW9kdWxlR3JhcGgiLCJtb2R1bGVQbGF5ZXIiLCJtb2R1bGVQaWN0dXJlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInN0YXR1cyIsImFsZXJ0Iiwic3RhdHVzVGV4dCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImV2ZW50cyIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJ0eXBlIiwiYWRkIiwiaW5uZXJIVE1MIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsInNvdXJjZSIsInRpbWUiLCJkZXNjcmlwdGlvbiIsInNldEF0dHJpYnV0ZU5TIiwiaWNvbiIsInNpemUiLCJpbWFnZSIsInBpY3R1cmUiLCJhcHBlbmRDaGlsZCIsImJ1dHRvbnMiLCJhbGJ1bWNvdmVyIiwicGxheWVyIiwidGVtcGVyYXR1cmUiLCJzdGF0cyIsImdyYXBoIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxXQUFhQyxTQUFTQyxjQUFjLG1CQUNwQ0MsS0FBT0YsU0FBU0MsY0FBYyxnQkFFbENGLFdBQVdJLGlCQUFpQixRQUFTLFdBQ25DRCxLQUFLRSxVQUFVQyxPQUFPLHlCQUd4QixJQVdJQyxLQVhBQyxLQUFPUCxTQUFTQyxjQUFjLFNBRTlCTyxTQUFXUixTQUFTQyxjQUFjLG1CQUVsQ1EsZUFBaUJELFNBQVNFLFFBQVFULGNBQWMsV0FDaERVLFlBQWNILFNBQVNFLFFBQVFULGNBQWMsa0JBQzdDVyxjQUFnQkosU0FBU0UsUUFBUVQsY0FBYyxvQkFDL0NZLFlBQWNMLFNBQVNFLFFBQVFULGNBQWMsa0JBQzdDYSxhQUFlTixTQUFTRSxRQUFRVCxjQUFjLFdBQzlDYyxjQUFnQlAsU0FBU0UsUUFBUVQsY0FBYyxvQkFJL0NlLElBQU0sSUFBSUMsZUFDZEQsSUFBSUUsS0FBSyxNQUFPLGVBQWUsR0FDL0JGLElBQUlHLE9BQ2MsS0FBZEgsSUFBSUksT0FDTkMsTUFBT0wsSUFBSUksT0FBUyxLQUFPSixJQUFJTSxZQUUvQmhCLEtBQU9pQixLQUFLQyxNQUFNUixJQUFJUyxjQUt4QixJQUZBLElBQUlDLE9BQVNwQixLQUFLb0IsT0FFVEMsRUFBSSxFQUFHQSxFQUFJRCxPQUFPRSxPQUFRRCxJQUFLLENBRXRDLElBQUlFLE9BQVNwQixlQUFlcUIsV0FBVSxHQXlCdEMsT0F0QndCLGFBQXBCSixPQUFPQyxHQUFHSSxNQUNaRixPQUFPekIsVUFBVTRCLElBQUksaUJBSXZCSCxPQUFPNUIsY0FBYyxrQkFBa0JnQyxXQUFhUCxPQUFPQyxHQUFHTyxNQUc5REwsT0FBTzVCLGNBQWMsaUJBQWlCa0MsWUFBY1QsT0FBT0MsR0FBR1MsT0FHOURQLE9BQU81QixjQUFjLGlCQUFpQmtDLFlBQWNULE9BQU9DLEdBQUdVLEtBR2hDLE9BQTFCWCxPQUFPQyxHQUFHVyxjQUNaVCxPQUFPNUIsY0FBYyxvQkFBb0JrQyxZQUFjVCxPQUFPQyxHQUFHVyxhQUluRVQsT0FBTzVCLGNBQWMseUJBQXlCc0MsZUFBZSwrQkFBK0IsT0FBTyxJQUFNYixPQUFPQyxHQUFHYSxNQUc1R2QsT0FBT0MsR0FBR2MsTUFDZixJQUFLLElBQ0haLE9BQU96QixVQUFVNEIsSUFBSSxpQkFDckIsTUFDRixJQUFLLElBQ0hILE9BQU96QixVQUFVNEIsSUFBSSxpQkFDckIsTUFDRixRQUNFSCxPQUFPekIsVUFBVTRCLElBQUksaUJBS3pCLFFBQThCLElBQW5CTixPQUFPQyxHQUFHckIsS0FBc0IsQ0FHekMsUUFBb0MsSUFBekJvQixPQUFPQyxHQUFHckIsS0FBS29DLE1BQXVCLENBQy9DLElBQUlDLFFBQVU1QixjQUFjZSxXQUFVLEdBQ3RDRCxPQUFPNUIsY0FBYyxvQkFBb0IyQyxZQUFZRCxTQUl2RCxRQUFzQyxJQUEzQmpCLE9BQU9DLEdBQUdyQixLQUFLdUMsUUFBeUIsQ0FDakQsSUFBSUEsUUFBVWpDLGNBQWNrQixXQUFVLEdBQ3RDRCxPQUFPNUIsY0FBYyxvQkFBb0IyQyxZQUFZQyxTQUl2RCxRQUF5QyxJQUE5Qm5CLE9BQU9DLEdBQUdyQixLQUFLd0MsV0FBNEIsQ0FDcEQsSUFBSUMsT0FBU2pDLGFBQWFnQixXQUFVLEdBQ3BDRCxPQUFPNUIsY0FBYyxvQkFBb0IyQyxZQUFZRyxRQUl2RCxRQUEwQyxJQUEvQnJCLE9BQU9DLEdBQUdyQixLQUFLMEMsWUFBNkIsQ0FDckQsSUFBSUMsTUFBUXRDLFlBQVltQixXQUFVLEdBQ2xDRCxPQUFPNUIsY0FBYyxvQkFBb0IyQyxZQUFZSyxPQUl2RCxRQUFtQyxJQUF4QnZCLE9BQU9DLEdBQUdyQixLQUFLeUIsS0FBc0IsQ0FDOUMsSUFBSW1CLE1BQVFyQyxZQUFZaUIsV0FBVSxHQUNsQ0QsT0FBTzVCLGNBQWMsb0JBQW9CMkMsWUFBWU0sUUFLekQzQyxLQUFLcUMsWUFBWWYiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBidXR0b25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1lbnUtYnV0dG9uJyk7XG52YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpO1xuXG5idXR0b25NZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci1tZW51LS1vcGVuZWQnKTtcbn0pO1xuXG52YXIgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJyk7XG5cbnZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2R1bGVUZW1wbGF0ZScpO1xuXG52YXIgbW9kdWxlVGVtcGxhdGUgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGUnKTtcbnZhciBtb2R1bGVTdGF0cyA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fc3RhdHMnKTtcbnZhciBtb2R1bGVCdXR0b25zID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19idXR0b25zJyk7XG52YXIgbW9kdWxlR3JhcGggPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2dyYXBoJyk7XG52YXIgbW9kdWxlUGxheWVyID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyJyk7XG52YXIgbW9kdWxlUGljdHVyZSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fcGljdHVyZScpO1xuXG52YXIgZGF0YTtcblxudmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xueGhyLm9wZW4oJ0dFVCcsICdldmVudHMuanNvbicsIGZhbHNlKTtcbnhoci5zZW5kKCk7XG5pZiAoeGhyLnN0YXR1cyAhPSAyMDApIHtcbiAgYWxlcnQoIHhoci5zdGF0dXMgKyAnOiAnICsgeGhyLnN0YXR1c1RleHQgKTtcbn0gZWxzZSB7XG4gIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xufVxuXG52YXIgZXZlbnRzID0gZGF0YS5ldmVudHM7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgdmFyIG1vZHVsZSA9IG1vZHVsZVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcblxuICAvLyB0eXBlXG4gIGlmIChldmVudHNbaV0udHlwZSA9PT0gICdjcml0aWNhbCcpIHtcbiAgICBtb2R1bGUuY2xhc3NMaXN0LmFkZCgnbW9kdWxlLS1hbGVydCcpO1xuICB9XG5cbiAgLy8gdGl0bGVcbiAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3RpdGxlJykuaW5uZXJIVE1MICs9IGV2ZW50c1tpXS50aXRsZTtcblxuICAvLyBzb3VyY2VcbiAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX3R5cGUnKS50ZXh0Q29udGVudCA9IGV2ZW50c1tpXS5zb3VyY2U7XG5cbiAgLy8gdGltZVxuICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fZGF0ZScpLnRleHRDb250ZW50ID0gZXZlbnRzW2ldLnRpbWU7XG5cbiAgLy8gZGVzY3JpcHRpb25cbiAgaWYgKGV2ZW50c1tpXS5kZXNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykudGV4dENvbnRlbnQgPSBldmVudHNbaV0uZGVzY3JpcHRpb247XG4gIH1cblxuICAvLyBpY29uXG4gIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19pY29uIHN2ZyB1c2UnKS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsJ2hyZWYnLCcjJyArIGV2ZW50c1tpXS5pY29uKTtcblxuICAvLyBzaXplXG4gIHN3aXRjaChldmVudHNbaV0uc2l6ZSkge1xuICAgIGNhc2UgJ20nOlxuICAgICAgbW9kdWxlLmNsYXNzTGlzdC5hZGQoJ2dyaWRfX2NlbGwtLW0nKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2wnOlxuICAgICAgbW9kdWxlLmNsYXNzTGlzdC5hZGQoJ2dyaWRfX2NlbGwtLWwnKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBtb2R1bGUuY2xhc3NMaXN0LmFkZCgnZ3JpZF9fY2VsbC0tcycpO1xuICAgICAgYnJlYWtcbiAgfVxuXG4gIC8vIGRhdGFcbiAgaWYgKHR5cGVvZiBldmVudHNbaV0uZGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgIC8vIGRhdGEuaW1hZ2VcbiAgICBpZiAodHlwZW9mIGV2ZW50c1tpXS5kYXRhLmltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHBpY3R1cmUgPSBtb2R1bGVQaWN0dXJlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQocGljdHVyZSk7XG4gICAgfVxuXG4gICAgLy8gZGF0YS5idXR0b25zXG4gICAgaWYgKHR5cGVvZiBldmVudHNbaV0uZGF0YS5idXR0b25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGJ1dHRvbnMgPSBtb2R1bGVCdXR0b25zLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XG4gICAgfVxuXG4gICAgLy8gZGF0YS5hbGJ1bWNvdmVyXG4gICAgaWYgKHR5cGVvZiBldmVudHNbaV0uZGF0YS5hbGJ1bWNvdmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHBsYXllciA9IG1vZHVsZVBsYXllci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBsYXllcik7XG4gICAgfVxuXG4gICAgLy8gZGF0YS50ZW1wZXJhdHVyZVxuICAgIGlmICh0eXBlb2YgZXZlbnRzW2ldLmRhdGEudGVtcGVyYXR1cmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3RhdHMgPSBtb2R1bGVTdGF0cy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHN0YXRzKTtcbiAgICB9XG5cbiAgICAvLyBkYXRhLnR5cGVcbiAgICBpZiAodHlwZW9mIGV2ZW50c1tpXS5kYXRhLnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgZ3JhcGggPSBtb2R1bGVHcmFwaC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKGdyYXBoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGdyaWQuYXBwZW5kQ2hpbGQobW9kdWxlKTtcbn1cblxuIl19
